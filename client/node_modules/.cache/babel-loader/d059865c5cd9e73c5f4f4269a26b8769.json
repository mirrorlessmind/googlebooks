{"ast":null,"code":"var _jsxFileName = \"/Users/cigitipton/Desktop/googlebooks/googlebooks/src/components/searchPage/index.js\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport GoogleAPI from \"../../utils/GoogleBooksAPI\";\nimport Jumbotron from \"../Jumbotron\";\nimport Searchbar from \"../searchBar\";\nimport BookList from \"../bookList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SearchPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.saveBook = (data, event) => {\n      event.preventDefault();\n      API.saveBook({\n        title: data.title,\n        author: data.author,\n        description: data.description,\n        image: data.image,\n        link: data.link,\n        id: data.id\n      }).then(res => this.setState({\n        books: this.state.books.filter(b => b.id != data.id)\n      })).catch(err => console.log(err));\n    };\n\n    this.searchBook = event => {\n      event.preventDefault();\n      const searchQuery = this.state.query;\n      GoogleAPI.search(searchQuery).then(res => {\n        const searchResults = [];\n        let items = res.data.items || [];\n\n        for (let i = 0; i < res.data.items.length; i++) {\n          let book = {};\n          book.author = items[i].volumeInfo.authors ? items[i].volumeInfo.authors[0] : \"Unknown\";\n          book.link = items[i].volumeInfo.infoLink;\n          book.title = items[i].volumeInfo.title;\n          book.image = items[i].volumeInfo.imageLinks && items[i].volumeInfo.imageLinks.thumbnail ? items[i].volumeInfo.imageLinks.thumbnail : 'http://placehold.it/300x300';\n          book.description = items[i].volumeInfo.description;\n          book.id = items[i].id;\n          searchResults.push(book);\n        }\n\n        this.setState({\n          books: searchResults\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      books: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Jumbotron, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n          handleInputChange: this.handleInputChange,\n          searchBook: this.searchBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), this.state.books.length ? /*#__PURE__*/_jsxDEV(BookList, {\n          books: this.state.books,\n          saveBook: this.saveBook.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"No Results to Display\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SearchPage;","map":{"version":3,"sources":["/Users/cigitipton/Desktop/googlebooks/googlebooks/src/components/searchPage/index.js"],"names":["React","Component","API","GoogleAPI","Jumbotron","Searchbar","BookList","SearchPage","constructor","props","handleInputChange","event","name","value","target","setState","saveBook","data","preventDefault","title","author","description","image","link","id","then","res","books","state","filter","b","catch","err","console","log","searchBook","searchQuery","query","search","searchResults","items","i","length","book","volumeInfo","authors","infoLink","imageLinks","thumbnail","push","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport GoogleAPI from \"../../utils/GoogleBooksAPI\";\nimport Jumbotron from \"../Jumbotron\";\nimport Searchbar from \"../searchBar\";\nimport BookList from \"../bookList\";\n\nclass SearchPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            books: []\n        };\n    }\n\n    handleInputChange = (event) => {\n        const { name, value } = event.target;\n        this.setState({\n            [name]: value\n        });\n    }\n\n    // Save book\n    saveBook = (data, event) => {\n        event.preventDefault();\n        API.saveBook({\n            title: data.title,\n            author: data.author,\n            description: data.description,\n            image: data.image,\n            link: data.link,\n            id: data.id\n        })\n        .then(res => \n            this.setState({\n                books: this.state.books.filter(b => b.id != data.id)\n            })\n        )\n        .catch(err => console.log(err));\n    }\n\n    searchBook = event => {\n        event.preventDefault()\n        const searchQuery = this.state.query\n        GoogleAPI.search(searchQuery).then(res => {\n            const searchResults = []\n            let items = res.data.items || [];\n            for (let i = 0; i < res.data.items.length; i++) {\n                let book = {}\n                book.author = items[i].volumeInfo.authors ? items[i].volumeInfo.authors[0] : \"Unknown\";\n                book.link = items[i].volumeInfo.infoLink\n                book.title = items[i].volumeInfo.title\n                book.image = (items[i].volumeInfo.imageLinks && items[i].volumeInfo.imageLinks.thumbnail) \n                    ? items[i].volumeInfo.imageLinks.thumbnail \n                    : 'http://placehold.it/300x300'\n                book.description = items[i].volumeInfo.description\n                book.id = items[i].id;\n                searchResults.push(book)\n            }\n            this.setState({books: searchResults})\n        }).catch(err => console.log(err));\n    }\n\n    render() {\n        return(\n            <div>\n                <Jumbotron/>\n                <div className=\"container\">\n                    <Searchbar \n                        handleInputChange={this.handleInputChange} \n                        searchBook={this.searchBook}\n                    />\n                    {this.state.books.length ? (\n                        <BookList books={this.state.books}\n                                saveBook={this.saveBook.bind(this)}/>\n                    ) : (\n                        <h5>No Results to Display</h5>\n                    )}\n                </div>    \n            </div>\n        )\n    }\n}\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}